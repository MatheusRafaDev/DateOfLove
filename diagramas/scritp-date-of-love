-- Tabela de Usuários
CREATE TABLE tb_usuarios (
    id_usuario INT AUTO_INCREMENT PRIMARY KEY,
    nm_noivo VARCHAR(100),
    nm_noiva VARCHAR(100),
    ds_email VARCHAR(255),
    ds_senha VARCHAR(255),
    dt_cadastro DATE,
    nm_noivos_concatenado VARCHAR(200),
    imagem_path VARCHAR(255)
);


-- Tabela de Informações do Casamento
CREATE TABLE tb_casamento (
    id_casamento INT AUTO_INCREMENT PRIMARY KEY,
    id_usuario INT,
    dt_casamento DATE,
    ds_localidade VARCHAR(100),
    nr_convidados INT,
    ds_estilo_festa VARCHAR(50), -- Adicionando a coluna estilo_festa
    FOREIGN KEY (id_usuario) REFERENCES tb_usuarios(id_usuario)
);

-- Tabela de Serviços
CREATE TABLE tb_servicos (
    id_servico INT AUTO_INCREMENT PRIMARY KEY,
    nm_servico VARCHAR(100),
    ds_servico VARCHAR(250),
    vl_preco DECIMAL(10, 2)
);

-- Tabela de Orçamentos
CREATE TABLE tb_orcamentos (
    id_orcamento INT AUTO_INCREMENT PRIMARY KEY,
    id_usuario INT,
    id_casamento INT,
    dt_orcamento DATE,
    ds_status VARCHAR(20),
    ds_observacao TEXT,
    nm_orcador VARCHAR(100),
    vl_total DECIMAL(10, 2),
    FOREIGN KEY (id_usuario) REFERENCES tb_usuarios(id_usuario),
    FOREIGN KEY (id_casamento) REFERENCES tb_casamento(id_casamento)
);

-- Tabela de Detalhes do Orçamento
CREATE TABLE tb_detalhes_orcamento (
    id_detalhe_orcamento INT AUTO_INCREMENT PRIMARY KEY,
    id_orcamento INT,
    id_servico INT,
    nr_quantidade INT,
    vl_preco_editavel DECIMAL(10, 2),
    ds_observacao_servico TEXT,
    tg_completo BOOLEAN,
    tg_incluso BOOLEAN,
    FOREIGN KEY (id_orcamento) REFERENCES tb_orcamentos(id_orcamento),
    FOREIGN KEY (id_servico) REFERENCES tb_servicos(id_servico)
);

-- Inserindo os Serviços
INSERT INTO tb_servicos (nm_servico, ds_servico, vl_preco) VALUES 
('Cardápio', 'Serviço de cardápio personalizado de acordo com as preferências do casal.', 1000.00),
('Flores e Decoração', 'Decoração floral para cerimônia e recepção do casamento.', 1500.00),
('Bebidas', 'Fornecimento de bebidas alcoólicas e não alcoólicas para a festa.', 3000.00),
('Doces e Bem Casados', 'Fornecimento de doces e bem casados para a mesa de sobremesas.', 1000.00),
('Bolos', 'Confecção de bolo de casamento personalizado.', 500.00),
('DJ', 'Serviço de DJ para animar a festa de casamento.', 800.00),
('Coordenação do Dia', 'Coordenação do dia do casamento para garantir que tudo ocorra conforme o planejado.', 500.00),
('Espaço', 'Locação de espaço para realização da cerimônia e festa de casamento.', 2500.00);
